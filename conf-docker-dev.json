{
  "fhmbaas": {
    "port": 8080,
    "key": "{{env.FHMBAAS_KEY}}",
    "maxpayloadsize": "100mb",
    "temp_forms_files_dest": "/tmp/fh-mbaas",
    "maxConcurrentPhantomPerWorker": 1,
    "pdfExportDir": "/tmp/fh-mbaas",
    "code_coverage_enabled": false,
    "mbaasid": "{{env.FH_MBAASID}}",
    "dsMinsPerBackOffIndex": 1,
    "pagination": {
      "maxLimit": 1000,
      "defaultLimit": 10
    },
    "appdataexport": {
      "output_dir": "/var/feedhenry/data",
      "schedule_time": 180000,
      "default_lock_lifetime": 120000,
      "cleaner": {
        "frequency": "*/30 * * * *",
        "grace_time": 10
      }
    },
    "appdata_jobs": {
      "upload_dir": "/var/feedhenry/upload",
      "scheduler": {
        "concurrency": 1,
        "frequency": "30 seconds"
      },
      "stalled_job_finder": {
        "frequency": "1 minute"
      }
    }
  },
  "logger": {
    "name": "mbaas",
    "streams": [
      {
        "type": "stream",
        "src": true,
        "level": "{{env.FH_LOG_LEVEL}}",
        "stream": "process.stdout"
      },
      {
        "type": "raw",
        "src": true,
        "level": "{{env.FH_LOG_LEVEL}}",
        "stream": "ringBuffer"
      }
    ]
  },
  "mongo": {
    "enabled": true,
    "name": "{{env.MONGODB_FHMBAAS_DATABASE}}",
    "host": "mongodb-1.{{env.MBAAS_NAMESPACE}}",
    "port": 27017,
    "replicaset_name": "{{env.MONGODB_REPLICA_NAME}}",
    "auth": {
      "enabled": true,
      "user": "{{env.MONGODB_FHMBAAS_USER}}",
      "pass": "{{env.MONGODB_FHMBAAS_PASSWORD}}"
    },
    "admin_auth": {
      "user": "admin",
      "pass": "{{env.MONGODB_ADMIN_PASSWORD}}"
    },
    "form_user_auth": {
      "user": "u-forms",
      "pass": "{{env.MONGODB_FORM_PASSWORD}}"
    },
    "poolSize": 20
  },
  "fhditch": {
    "host": "localhost",
    "port": 8802,
    "protocol": "http",
    "service_key": "test"
  },
  "fhdfc": {
    "dynofarm": "http://localhost:9000",
    "username": "DYNOFARM_USERNAME",
    "_password": "DYNOFARM_PASSWORD",
    "loglevel": "warn",
    "cache_timeout": 300000
  },
  "fhamqp": {
    "app": {
      "enabled": true
    },
    "enabled": false,
    "max_connection_retry": 10,
    "ssl": false,
    "nodes": "node1:5672",
    "vhosts": {
      "events": {
        "clusterNodes": [
          "amqp://amqpuser:amqppassword@node1.feedhenry.local:5672/fhevents"
        ]
      },
      "internal": {
        "clusterNodes": [
          "amqp://amqpuser:amqppassword@node1.feedhenry.local:5672/fhinternal"
        ],
        "heartbeat": 20
      }
    }
  },
  "fhmetrics": {
    "host": "fh-metrics-service.{{env.MBAAS_NAMESPACE}}",
    "port": "{{env.FH_METRICS_SERVICE_SERVICE_PORT}}",
    "protocol": "http",
    "apikey": "{{env.FH_METRICS_API_KEY}}"
  },
  "fhmessaging": {
    "enabled": true,
    "host": "fh-messaging-service.{{env.MBAAS_NAMESPACE}}",
    "protocol": "http",
    "port": "{{env.FH_MESSAGING_SERVICE_SERVICE_PORT}}",
    "path": "msg/TOPIC",
    "cluster": "{{env.FH_CLUSTER}}",
    "realtime": true,
    "apikey": "{{env.FH_MESSAGING_API_KEY}}",
    "files": {
      "recovery_file": "../messages/recovery.log",
      "backup_file": "../messages/backup.log"
    }
  },
  "fhstats": {
    "enabled": true,
    "host": "fh-statsd-service.{{env.MBAAS_NAMESPACE}}",
    "port": "{{env.FH_STATSD_SERVICE_SERVICE_PORT}}",
    "protocol": "http",
    "apikey": "{{env.FH_STATSD_API_KEY}}",
    "udp": {
      "port": "{{env.FH_STATSD_SERVICE_PORT_8081_UDP_PORT}}",
      "protocol": "{{env.FH_STATSD_SERVICE_PORT_8081_UDP_PROTO}}"
    }
  },
  "fhredis": {
    "host": "{{env.REDIS_SERVICE_SERVICE_HOST}}",
    "port": "{{env.REDIS_SERVICE_SERVICE_PORT}}",
    "password": "FHREDIS_PASSWORD"
  },
  "crash_monitor": {
    "enabled": false,
    "min_num_crashes": 10,
    "max_num_crashes": 40,
    "tolerance": 1,
    "base_time_seconds": 60,
    "sample_time_hrs": 1
  },
  "email": {
    "transport": "smtp",
    "sendgrid": {
      "auth": {
        "api_user": "SENDGRID_USER",
        "api_key": "SENDGRID_PASSWORD"
      }
    },
    "smtp": "{{env.FH_EMAIL_SMTP}}",
    "alert_email_from": "{{env.FH_EMAIL_ALERT_FROM}}",
    "alert_email_bcc": ""
  },
  "auto_create_app_dbs": [
    "openshift3"
  ],
  "openshift3": true,
  "agenda": {
    "enabled": true,
    "preferredWorkerId": 1,
    "jobs": {
      "data_source_update": {
        "schedule": "60 seconds"
      }
    }
  },
  "component_metrics": {
    "enabled": "{{env.FH_COMPONENT_METRICS_ENABLED}}",
    "host": "{{env.FH_COMPONENT_METRICS_HOST}}",
    "port": "{{env.FH_COMPONENT_METRICS_PORT}}"
  },
  "storage": {
    "token_exp_time": 600,
    "base_url_protocol": "https",
    "base_url_host": "files.feedhenry.me"
  },
  "ops_env_file": "/etc/feedhenry/openv.json"
}